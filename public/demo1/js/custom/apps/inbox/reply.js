/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/assets/core/js/custom/apps/inbox/reply.js":
/*!*************************************************************!*\
  !*** ./resources/assets/core/js/custom/apps/inbox/reply.js ***!
  \*************************************************************/
/***/ (() => {

eval("\n\n// Class definition\nvar KTAppInboxReply = function () {\n  // Private functions\n  var handlePreviewText = function handlePreviewText() {\n    // Get all messages\n    var accordions = document.querySelectorAll('[data-kt-inbox-message=\"message_wrapper\"]');\n    accordions.forEach(function (accordion) {\n      // Set variables\n      var header = accordion.querySelector('[data-kt-inbox-message=\"header\"]');\n      var previewText = accordion.querySelector('[data-kt-inbox-message=\"preview\"]');\n      var details = accordion.querySelector('[data-kt-inbox-message=\"details\"]');\n      var message = accordion.querySelector('[data-kt-inbox-message=\"message\"]');\n\n      // Init bootstrap collapse -- more info: https://getbootstrap.com/docs/5.1/components/collapse/#via-javascript\n      var collapse = new bootstrap.Collapse(message, {\n        toggle: false\n      });\n\n      // Handle header click action\n      header.addEventListener('click', function (e) {\n        // Return if KTMenu or buttons are clicked\n        if (e.target.closest('[data-kt-menu-trigger=\"click\"]') || e.target.closest('.btn')) {\n          return;\n        } else {\n          previewText.classList.toggle('d-none');\n          details.classList.toggle('d-none');\n          collapse.toggle();\n        }\n      });\n    });\n  };\n\n  // Init reply form\n  var initForm = function initForm() {\n    // Set variables\n    var form = document.querySelector('#kt_inbox_reply_form');\n    var allTagify = form.querySelectorAll('[data-kt-inbox-form=\"tagify\"]');\n\n    // Handle CC and BCC\n    handleCCandBCC(form);\n\n    // Handle submit form\n    handleSubmit(form);\n\n    // Init tagify\n    allTagify.forEach(function (tagify) {\n      initTagify(tagify);\n    });\n\n    // Init quill editor\n    initQuill(form);\n\n    // Init dropzone\n    initDropzone(form);\n  };\n\n  // Handle CC and BCC toggle\n  var handleCCandBCC = function handleCCandBCC(el) {\n    // Get elements\n    var ccElement = el.querySelector('[data-kt-inbox-form=\"cc\"]');\n    var ccButton = el.querySelector('[data-kt-inbox-form=\"cc_button\"]');\n    var ccClose = el.querySelector('[data-kt-inbox-form=\"cc_close\"]');\n    var bccElement = el.querySelector('[data-kt-inbox-form=\"bcc\"]');\n    var bccButton = el.querySelector('[data-kt-inbox-form=\"bcc_button\"]');\n    var bccClose = el.querySelector('[data-kt-inbox-form=\"bcc_close\"]');\n\n    // Handle CC button click\n    ccButton.addEventListener('click', function (e) {\n      e.preventDefault();\n      ccElement.classList.remove('d-none');\n      ccElement.classList.add('d-flex');\n    });\n\n    // Handle CC close button click\n    ccClose.addEventListener('click', function (e) {\n      e.preventDefault();\n      ccElement.classList.add('d-none');\n      ccElement.classList.remove('d-flex');\n    });\n\n    // Handle BCC button click\n    bccButton.addEventListener('click', function (e) {\n      e.preventDefault();\n      bccElement.classList.remove('d-none');\n      bccElement.classList.add('d-flex');\n    });\n\n    // Handle CC close button click\n    bccClose.addEventListener('click', function (e) {\n      e.preventDefault();\n      bccElement.classList.add('d-none');\n      bccElement.classList.remove('d-flex');\n    });\n  };\n\n  // Handle submit form\n  var handleSubmit = function handleSubmit(el) {\n    var submitButton = el.querySelector('[data-kt-inbox-form=\"send\"]');\n\n    // Handle button click event\n    submitButton.addEventListener(\"click\", function () {\n      // Activate indicator\n      submitButton.setAttribute(\"data-kt-indicator\", \"on\");\n\n      // Disable indicator after 3 seconds\n      setTimeout(function () {\n        submitButton.removeAttribute(\"data-kt-indicator\");\n      }, 3000);\n    });\n  };\n\n  // Init tagify \n  var initTagify = function initTagify(el) {\n    var inputElm = el;\n    var usersList = [{\n      value: 1,\n      name: 'Emma Smith',\n      avatar: 'avatars/300-6.jpg',\n      email: 'e.smith@kpmg.com.au'\n    }, {\n      value: 2,\n      name: 'Max Smith',\n      avatar: 'avatars/300-1.jpg',\n      email: 'max@kt.com'\n    }, {\n      value: 3,\n      name: 'Sean Bean',\n      avatar: 'avatars/300-5.jpg',\n      email: 'sean@dellito.com'\n    }, {\n      value: 4,\n      name: 'Brian Cox',\n      avatar: 'avatars/300-25.jpg',\n      email: 'brian@exchange.com'\n    }, {\n      value: 5,\n      name: 'Francis Mitcham',\n      avatar: 'avatars/300-9.jpg',\n      email: 'f.mitcham@kpmg.com.au'\n    }, {\n      value: 6,\n      name: 'Dan Wilson',\n      avatar: 'avatars/300-23.jpg',\n      email: 'dam@consilting.com'\n    }, {\n      value: 7,\n      name: 'Ana Crown',\n      avatar: 'avatars/300-12.jpg',\n      email: 'ana.cf@limtel.com'\n    }, {\n      value: 8,\n      name: 'John Miller',\n      avatar: 'avatars/300-13.jpg',\n      email: 'miller@mapple.com'\n    }];\n    function tagTemplate(tagData) {\n      return \"\\n                <tag title=\\\"\".concat(tagData.title || tagData.email, \"\\\"\\n                        contenteditable='false'\\n                        spellcheck='false'\\n                        tabIndex=\\\"-1\\\"\\n                        class=\\\"\").concat(this.settings.classNames.tag, \" \").concat(tagData[\"class\"] ? tagData[\"class\"] : \"\", \"\\\"\\n                        \").concat(this.getAttributes(tagData), \">\\n                    <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\\n                    <div class=\\\"d-flex align-items-center\\\">\\n                        <div class='tagify__tag__avatar-wrap ps-0'>\\n                            <img onerror=\\\"this.style.visibility='hidden'\\\" class=\\\"rounded-circle w-25px me-2\\\" src=\\\"\").concat(hostUrl, \"media/\").concat(tagData.avatar, \"\\\">\\n                        </div>\\n                        <span class='tagify__tag-text'>\").concat(tagData.name, \"</span>\\n                    </div>\\n                </tag>\\n            \");\n    }\n    function suggestionItemTemplate(tagData) {\n      return \"\\n                <div \".concat(this.getAttributes(tagData), \"\\n                    class='tagify__dropdown__item d-flex align-items-center \").concat(tagData[\"class\"] ? tagData[\"class\"] : \"\", \"'\\n                    tabindex=\\\"0\\\"\\n                    role=\\\"option\\\">\\n\\n                    \").concat(tagData.avatar ? \"\\n                            <div class='tagify__dropdown__item__avatar-wrap me-2'>\\n                                <img onerror=\\\"this.style.visibility='hidden'\\\"  class=\\\"rounded-circle w-50px me-2\\\" src=\\\"\".concat(hostUrl, \"media/\").concat(tagData.avatar, \"\\\">\\n                            </div>\") : '', \"\\n\\n                    <div class=\\\"d-flex flex-column\\\">\\n                        <strong>\").concat(tagData.name, \"</strong>\\n                        <span>\").concat(tagData.email, \"</span>\\n                    </div>\\n                </div>\\n            \");\n    }\n\n    // initialize Tagify on the above input node reference\n    var tagify = new Tagify(inputElm, {\n      tagTextProp: 'name',\n      // very important since a custom template is used with this property as text. allows typing a \"value\" or a \"name\" to match input with whitelist\n      enforceWhitelist: true,\n      skipInvalid: true,\n      // do not remporarily add invalid tags\n      dropdown: {\n        closeOnSelect: false,\n        enabled: 0,\n        classname: 'users-list',\n        searchKeys: ['name', 'email'] // very important to set by which keys to search for suggesttions when typing\n      },\n      templates: {\n        tag: tagTemplate,\n        dropdownItem: suggestionItemTemplate\n      },\n      whitelist: usersList\n    });\n    tagify.on('dropdown:show dropdown:updated', onDropdownShow);\n    tagify.on('dropdown:select', onSelectSuggestion);\n    var addAllSuggestionsElm;\n    function onDropdownShow(e) {\n      var dropdownContentElm = e.detail.tagify.DOM.dropdown.content;\n      if (tagify.suggestedListItems.length > 1) {\n        addAllSuggestionsElm = getAddAllSuggestionsElm();\n\n        // insert \"addAllSuggestionsElm\" as the first element in the suggestions list\n        dropdownContentElm.insertBefore(addAllSuggestionsElm, dropdownContentElm.firstChild);\n      }\n    }\n    function onSelectSuggestion(e) {\n      if (e.detail.elm == addAllSuggestionsElm) tagify.dropdown.selectAll.call(tagify);\n    }\n\n    // create a \"add all\" custom suggestion element every time the dropdown changes\n    function getAddAllSuggestionsElm() {\n      // suggestions items should be based on \"dropdownItem\" template\n      return tagify.parseTemplate('dropdownItem', [{\n        \"class\": \"addAll\",\n        name: \"Add all\",\n        email: tagify.settings.whitelist.reduce(function (remainingSuggestions, item) {\n          return tagify.isTagDuplicate(item.value) ? remainingSuggestions : remainingSuggestions + 1;\n        }, 0) + \" Members\"\n      }]);\n    }\n  };\n\n  // Init quill editor \n  var initQuill = function initQuill(el) {\n    var quill = new Quill('#kt_inbox_form_editor', {\n      modules: {\n        toolbar: [[{\n          header: [1, 2, false]\n        }], ['bold', 'italic', 'underline'], ['image', 'code-block']]\n      },\n      placeholder: 'Type your text here...',\n      theme: 'snow' // or 'bubble'\n    });\n\n    // Customize editor\n    var toolbar = el.querySelector('.ql-toolbar');\n    if (toolbar) {\n      var _toolbar$classList;\n      var classes = ['px-5', 'border-top-0', 'border-start-0', 'border-end-0'];\n      (_toolbar$classList = toolbar.classList).add.apply(_toolbar$classList, classes);\n    }\n  };\n\n  // Init dropzone\n  var initDropzone = function initDropzone(el) {\n    // set the dropzone container id\n    var id = '[data-kt-inbox-form=\"dropzone\"]';\n    var dropzone = el.querySelector(id);\n    var uploadButton = el.querySelector('[data-kt-inbox-form=\"dropzone_upload\"]');\n\n    // set the preview element template\n    var previewNode = dropzone.querySelector(\".dropzone-item\");\n    previewNode.id = \"\";\n    var previewTemplate = previewNode.parentNode.innerHTML;\n    previewNode.parentNode.removeChild(previewNode);\n    var myDropzone = new Dropzone(id, {\n      // Make the whole body a dropzone\n      url: \"https://preview.keenthemes.com/api/dropzone/void.php\",\n      // Set the url for your upload script location\n      parallelUploads: 20,\n      maxFilesize: 1,\n      // Max filesize in MB\n      previewTemplate: previewTemplate,\n      previewsContainer: id + \" .dropzone-items\",\n      // Define the container to display the previews\n      clickable: uploadButton // Define the element that should be used as click trigger to select files.\n    });\n    myDropzone.on(\"addedfile\", function (file) {\n      // Hookup the start button\n      var dropzoneItems = dropzone.querySelectorAll('.dropzone-item');\n      dropzoneItems.forEach(function (dropzoneItem) {\n        dropzoneItem.style.display = '';\n      });\n    });\n\n    // Update the total progress bar\n    myDropzone.on(\"totaluploadprogress\", function (progress) {\n      var progressBars = dropzone.querySelectorAll('.progress-bar');\n      progressBars.forEach(function (progressBar) {\n        progressBar.style.width = progress + \"%\";\n      });\n    });\n    myDropzone.on(\"sending\", function (file) {\n      // Show the total progress bar when upload starts\n      var progressBars = dropzone.querySelectorAll('.progress-bar');\n      progressBars.forEach(function (progressBar) {\n        progressBar.style.opacity = \"1\";\n      });\n    });\n\n    // Hide the total progress bar when nothing\"s uploading anymore\n    myDropzone.on(\"complete\", function (progress) {\n      var progressBars = dropzone.querySelectorAll('.dz-complete');\n      setTimeout(function () {\n        progressBars.forEach(function (progressBar) {\n          progressBar.querySelector('.progress-bar').style.opacity = \"0\";\n          progressBar.querySelector('.progress').style.opacity = \"0\";\n        });\n      }, 300);\n    });\n  };\n\n  // Public methods\n  return {\n    init: function init() {\n      handlePreviewText();\n      initForm();\n    }\n  };\n}();\n\n// On document ready\nKTUtil.onDOMContentLoaded(function () {\n  KTAppInboxReply.init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvYXNzZXRzL2NvcmUvanMvY3VzdG9tL2FwcHMvaW5ib3gvcmVwbHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQSxJQUFJQSxlQUFlLEdBQUcsWUFBWTtFQUU5QjtFQUNBLElBQU1DLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBaUJBLENBQUEsRUFBUztJQUM1QjtJQUNBLElBQU1DLFVBQVUsR0FBR0MsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQywyQ0FBMkMsQ0FBQztJQUN6RkYsVUFBVSxDQUFDRyxPQUFPLENBQUMsVUFBQUMsU0FBUyxFQUFJO01BQzVCO01BQ0EsSUFBTUMsTUFBTSxHQUFHRCxTQUFTLENBQUNFLGFBQWEsQ0FBQyxrQ0FBa0MsQ0FBQztNQUMxRSxJQUFNQyxXQUFXLEdBQUdILFNBQVMsQ0FBQ0UsYUFBYSxDQUFDLG1DQUFtQyxDQUFDO01BQ2hGLElBQU1FLE9BQU8sR0FBR0osU0FBUyxDQUFDRSxhQUFhLENBQUMsbUNBQW1DLENBQUM7TUFDNUUsSUFBTUcsT0FBTyxHQUFHTCxTQUFTLENBQUNFLGFBQWEsQ0FBQyxtQ0FBbUMsQ0FBQzs7TUFFNUU7TUFDQSxJQUFNSSxRQUFRLEdBQUcsSUFBSUMsU0FBUyxDQUFDQyxRQUFRLENBQUNILE9BQU8sRUFBRTtRQUFFSSxNQUFNLEVBQUU7TUFBTSxDQUFDLENBQUM7O01BRW5FO01BQ0FSLE1BQU0sQ0FBQ1MsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQUFDLENBQUMsRUFBSTtRQUNsQztRQUNBLElBQUlBLENBQUMsQ0FBQ0MsTUFBTSxDQUFDQyxPQUFPLENBQUMsZ0NBQWdDLENBQUMsSUFBSUYsQ0FBQyxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtVQUNoRjtRQUNKLENBQUMsTUFBTTtVQUNIVixXQUFXLENBQUNXLFNBQVMsQ0FBQ0wsTUFBTSxDQUFDLFFBQVEsQ0FBQztVQUN0Q0wsT0FBTyxDQUFDVSxTQUFTLENBQUNMLE1BQU0sQ0FBQyxRQUFRLENBQUM7VUFDbENILFFBQVEsQ0FBQ0csTUFBTSxDQUFDLENBQUM7UUFDckI7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDTixDQUFDOztFQUVEO0VBQ0EsSUFBTU0sUUFBUSxHQUFHLFNBQVhBLFFBQVFBLENBQUEsRUFBUztJQUNuQjtJQUNBLElBQU1DLElBQUksR0FBR25CLFFBQVEsQ0FBQ0ssYUFBYSxDQUFDLHNCQUFzQixDQUFDO0lBQzNELElBQU1lLFNBQVMsR0FBR0QsSUFBSSxDQUFDbEIsZ0JBQWdCLENBQUMsK0JBQStCLENBQUM7O0lBRXhFO0lBQ0FvQixjQUFjLENBQUNGLElBQUksQ0FBQzs7SUFFcEI7SUFDQUcsWUFBWSxDQUFDSCxJQUFJLENBQUM7O0lBRWxCO0lBQ0FDLFNBQVMsQ0FBQ2xCLE9BQU8sQ0FBQyxVQUFBcUIsTUFBTSxFQUFJO01BQ3hCQyxVQUFVLENBQUNELE1BQU0sQ0FBQztJQUN0QixDQUFDLENBQUM7O0lBRUY7SUFDQUUsU0FBUyxDQUFDTixJQUFJLENBQUM7O0lBRWY7SUFDQU8sWUFBWSxDQUFDUCxJQUFJLENBQUM7RUFDdEIsQ0FBQzs7RUFFRDtFQUNBLElBQU1FLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBSU0sRUFBRSxFQUFLO0lBQzNCO0lBQ0EsSUFBTUMsU0FBUyxHQUFHRCxFQUFFLENBQUN0QixhQUFhLENBQUMsMkJBQTJCLENBQUM7SUFDL0QsSUFBTXdCLFFBQVEsR0FBR0YsRUFBRSxDQUFDdEIsYUFBYSxDQUFDLGtDQUFrQyxDQUFDO0lBQ3JFLElBQU15QixPQUFPLEdBQUdILEVBQUUsQ0FBQ3RCLGFBQWEsQ0FBQyxpQ0FBaUMsQ0FBQztJQUNuRSxJQUFNMEIsVUFBVSxHQUFHSixFQUFFLENBQUN0QixhQUFhLENBQUMsNEJBQTRCLENBQUM7SUFDakUsSUFBTTJCLFNBQVMsR0FBR0wsRUFBRSxDQUFDdEIsYUFBYSxDQUFDLG1DQUFtQyxDQUFDO0lBQ3ZFLElBQU00QixRQUFRLEdBQUdOLEVBQUUsQ0FBQ3RCLGFBQWEsQ0FBQyxrQ0FBa0MsQ0FBQzs7SUFFckU7SUFDQXdCLFFBQVEsQ0FBQ2hCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFBQyxDQUFDLEVBQUk7TUFDcENBLENBQUMsQ0FBQ29CLGNBQWMsQ0FBQyxDQUFDO01BRWxCTixTQUFTLENBQUNYLFNBQVMsQ0FBQ2tCLE1BQU0sQ0FBQyxRQUFRLENBQUM7TUFDcENQLFNBQVMsQ0FBQ1gsU0FBUyxDQUFDbUIsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUNyQyxDQUFDLENBQUM7O0lBRUY7SUFDQU4sT0FBTyxDQUFDakIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQUFDLENBQUMsRUFBSTtNQUNuQ0EsQ0FBQyxDQUFDb0IsY0FBYyxDQUFDLENBQUM7TUFFbEJOLFNBQVMsQ0FBQ1gsU0FBUyxDQUFDbUIsR0FBRyxDQUFDLFFBQVEsQ0FBQztNQUNqQ1IsU0FBUyxDQUFDWCxTQUFTLENBQUNrQixNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3hDLENBQUMsQ0FBQzs7SUFFRjtJQUNBSCxTQUFTLENBQUNuQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBQUMsQ0FBQyxFQUFJO01BQ3JDQSxDQUFDLENBQUNvQixjQUFjLENBQUMsQ0FBQztNQUVsQkgsVUFBVSxDQUFDZCxTQUFTLENBQUNrQixNQUFNLENBQUMsUUFBUSxDQUFDO01BQ3JDSixVQUFVLENBQUNkLFNBQVMsQ0FBQ21CLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDdEMsQ0FBQyxDQUFDOztJQUVGO0lBQ0FILFFBQVEsQ0FBQ3BCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFBQyxDQUFDLEVBQUk7TUFDcENBLENBQUMsQ0FBQ29CLGNBQWMsQ0FBQyxDQUFDO01BRWxCSCxVQUFVLENBQUNkLFNBQVMsQ0FBQ21CLEdBQUcsQ0FBQyxRQUFRLENBQUM7TUFDbENMLFVBQVUsQ0FBQ2QsU0FBUyxDQUFDa0IsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUN6QyxDQUFDLENBQUM7RUFDTixDQUFDOztFQUVEO0VBQ0EsSUFBTWIsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUlLLEVBQUUsRUFBSztJQUN6QixJQUFNVSxZQUFZLEdBQUdWLEVBQUUsQ0FBQ3RCLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQzs7SUFFcEU7SUFDQWdDLFlBQVksQ0FBQ3hCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFZO01BQy9DO01BQ0F3QixZQUFZLENBQUNDLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUM7O01BRXBEO01BQ0FDLFVBQVUsQ0FBQyxZQUFZO1FBQ25CRixZQUFZLENBQUNHLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQztNQUNyRCxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ1osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1oQixVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBSUcsRUFBRSxFQUFLO0lBQ3ZCLElBQUljLFFBQVEsR0FBR2QsRUFBRTtJQUVqQixJQUFNZSxTQUFTLEdBQUcsQ0FDZDtNQUFFQyxLQUFLLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUUsWUFBWTtNQUFFQyxNQUFNLEVBQUUsbUJBQW1CO01BQUVDLEtBQUssRUFBRTtJQUFzQixDQUFDLEVBQzNGO01BQUVILEtBQUssRUFBRSxDQUFDO01BQUVDLElBQUksRUFBRSxXQUFXO01BQUVDLE1BQU0sRUFBRSxtQkFBbUI7TUFBRUMsS0FBSyxFQUFFO0lBQWEsQ0FBQyxFQUNqRjtNQUFFSCxLQUFLLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUUsV0FBVztNQUFFQyxNQUFNLEVBQUUsbUJBQW1CO01BQUVDLEtBQUssRUFBRTtJQUFtQixDQUFDLEVBQ3ZGO01BQUVILEtBQUssRUFBRSxDQUFDO01BQUVDLElBQUksRUFBRSxXQUFXO01BQUVDLE1BQU0sRUFBRSxvQkFBb0I7TUFBRUMsS0FBSyxFQUFFO0lBQXFCLENBQUMsRUFDMUY7TUFBRUgsS0FBSyxFQUFFLENBQUM7TUFBRUMsSUFBSSxFQUFFLGlCQUFpQjtNQUFFQyxNQUFNLEVBQUUsbUJBQW1CO01BQUVDLEtBQUssRUFBRTtJQUF3QixDQUFDLEVBQ2xHO01BQUVILEtBQUssRUFBRSxDQUFDO01BQUVDLElBQUksRUFBRSxZQUFZO01BQUVDLE1BQU0sRUFBRSxvQkFBb0I7TUFBRUMsS0FBSyxFQUFFO0lBQXFCLENBQUMsRUFDM0Y7TUFBRUgsS0FBSyxFQUFFLENBQUM7TUFBRUMsSUFBSSxFQUFFLFdBQVc7TUFBRUMsTUFBTSxFQUFFLG9CQUFvQjtNQUFFQyxLQUFLLEVBQUU7SUFBb0IsQ0FBQyxFQUN6RjtNQUFFSCxLQUFLLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUUsYUFBYTtNQUFFQyxNQUFNLEVBQUUsb0JBQW9CO01BQUVDLEtBQUssRUFBRTtJQUFvQixDQUFDLENBQzlGO0lBRUQsU0FBU0MsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO01BQzFCLHlDQUFBQyxNQUFBLENBQ21CRCxPQUFPLENBQUNFLEtBQUssSUFBSUYsT0FBTyxDQUFDRixLQUFLLGdMQUFBRyxNQUFBLENBSTVCLElBQUksQ0FBQ0UsUUFBUSxDQUFDQyxVQUFVLENBQUNDLEdBQUcsT0FBQUosTUFBQSxDQUFJRCxPQUFPLFNBQU0sR0FBR0EsT0FBTyxTQUFNLEdBQUcsRUFBRSxrQ0FBQUMsTUFBQSxDQUN6RSxJQUFJLENBQUNLLGFBQWEsQ0FBQ04sT0FBTyxDQUFDLCtXQUFBQyxNQUFBLENBSStETSxPQUFPLFlBQUFOLE1BQUEsQ0FBU0QsT0FBTyxDQUFDSCxNQUFNLGtHQUFBSSxNQUFBLENBRXpGRCxPQUFPLENBQUNKLElBQUk7SUFJN0Q7SUFFQSxTQUFTWSxzQkFBc0JBLENBQUNSLE9BQU8sRUFBRTtNQUNyQyxpQ0FBQUMsTUFBQSxDQUNXLElBQUksQ0FBQ0ssYUFBYSxDQUFDTixPQUFPLENBQUMsb0ZBQUFDLE1BQUEsQ0FDNEJELE9BQU8sU0FBTSxHQUFHQSxPQUFPLFNBQU0sR0FBRyxFQUFFLHlHQUFBQyxNQUFBLENBSTFGRCxPQUFPLENBQUNILE1BQU0sd05BQUFJLE1BQUEsQ0FFcUZNLE9BQU8sWUFBQU4sTUFBQSxDQUFTRCxPQUFPLENBQUNILE1BQU0sK0NBQ2pILEVBQUUsa0dBQUFJLE1BQUEsQ0FJTkQsT0FBTyxDQUFDSixJQUFJLCtDQUFBSyxNQUFBLENBQ2RELE9BQU8sQ0FBQ0YsS0FBSztJQUlyQzs7SUFFQTtJQUNBLElBQUl2QixNQUFNLEdBQUcsSUFBSWtDLE1BQU0sQ0FBQ2hCLFFBQVEsRUFBRTtNQUM5QmlCLFdBQVcsRUFBRSxNQUFNO01BQUU7TUFDckJDLGdCQUFnQixFQUFFLElBQUk7TUFDdEJDLFdBQVcsRUFBRSxJQUFJO01BQUU7TUFDbkJDLFFBQVEsRUFBRTtRQUNOQyxhQUFhLEVBQUUsS0FBSztRQUNwQkMsT0FBTyxFQUFFLENBQUM7UUFDVkMsU0FBUyxFQUFFLFlBQVk7UUFDdkJDLFVBQVUsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBRTtNQUNuQyxDQUFDO01BQ0RDLFNBQVMsRUFBRTtRQUNQYixHQUFHLEVBQUVOLFdBQVc7UUFDaEJvQixZQUFZLEVBQUVYO01BQ2xCLENBQUM7TUFDRFksU0FBUyxFQUFFMUI7SUFDZixDQUFDLENBQUM7SUFFRm5CLE1BQU0sQ0FBQzhDLEVBQUUsQ0FBQyxnQ0FBZ0MsRUFBRUMsY0FBYyxDQUFDO0lBQzNEL0MsTUFBTSxDQUFDOEMsRUFBRSxDQUFDLGlCQUFpQixFQUFFRSxrQkFBa0IsQ0FBQztJQUVoRCxJQUFJQyxvQkFBb0I7SUFFeEIsU0FBU0YsY0FBY0EsQ0FBQ3hELENBQUMsRUFBRTtNQUN2QixJQUFJMkQsa0JBQWtCLEdBQUczRCxDQUFDLENBQUM0RCxNQUFNLENBQUNuRCxNQUFNLENBQUNvRCxHQUFHLENBQUNkLFFBQVEsQ0FBQ2UsT0FBTztNQUU3RCxJQUFJckQsTUFBTSxDQUFDc0Qsa0JBQWtCLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDdENOLG9CQUFvQixHQUFHTyx1QkFBdUIsQ0FBQyxDQUFDOztRQUVoRDtRQUNBTixrQkFBa0IsQ0FBQ08sWUFBWSxDQUFDUixvQkFBb0IsRUFBRUMsa0JBQWtCLENBQUNRLFVBQVUsQ0FBQztNQUN4RjtJQUNKO0lBRUEsU0FBU1Ysa0JBQWtCQSxDQUFDekQsQ0FBQyxFQUFFO01BQzNCLElBQUlBLENBQUMsQ0FBQzRELE1BQU0sQ0FBQ1EsR0FBRyxJQUFJVixvQkFBb0IsRUFDcENqRCxNQUFNLENBQUNzQyxRQUFRLENBQUNzQixTQUFTLENBQUNDLElBQUksQ0FBQzdELE1BQU0sQ0FBQztJQUM5Qzs7SUFFQTtJQUNBLFNBQVN3RCx1QkFBdUJBLENBQUEsRUFBRztNQUMvQjtNQUNBLE9BQU94RCxNQUFNLENBQUM4RCxhQUFhLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDekMsU0FBTyxRQUFRO1FBQ2Z6QyxJQUFJLEVBQUUsU0FBUztRQUNmRSxLQUFLLEVBQUV2QixNQUFNLENBQUM0QixRQUFRLENBQUNpQixTQUFTLENBQUNrQixNQUFNLENBQUMsVUFBVUMsb0JBQW9CLEVBQUVDLElBQUksRUFBRTtVQUMxRSxPQUFPakUsTUFBTSxDQUFDa0UsY0FBYyxDQUFDRCxJQUFJLENBQUM3QyxLQUFLLENBQUMsR0FBRzRDLG9CQUFvQixHQUFHQSxvQkFBb0IsR0FBRyxDQUFDO1FBQzlGLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRztNQUNaLENBQUMsQ0FDRCxDQUFDO0lBQ0w7RUFDSixDQUFDOztFQUVEO0VBQ0EsSUFBTTlELFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUFJRSxFQUFFLEVBQUs7SUFDdEIsSUFBSStELEtBQUssR0FBRyxJQUFJQyxLQUFLLENBQUMsdUJBQXVCLEVBQUU7TUFDM0NDLE9BQU8sRUFBRTtRQUNMQyxPQUFPLEVBQUUsQ0FDTCxDQUFDO1VBQ0d6RixNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUs7UUFDeEIsQ0FBQyxDQUFDLEVBQ0YsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxFQUMvQixDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUM7TUFFL0IsQ0FBQztNQUNEMEYsV0FBVyxFQUFFLHdCQUF3QjtNQUNyQ0MsS0FBSyxFQUFFLE1BQU0sQ0FBQztJQUNsQixDQUFDLENBQUM7O0lBRUY7SUFDQSxJQUFNRixPQUFPLEdBQUdsRSxFQUFFLENBQUN0QixhQUFhLENBQUMsYUFBYSxDQUFDO0lBRS9DLElBQUl3RixPQUFPLEVBQUU7TUFBQSxJQUFBRyxrQkFBQTtNQUNULElBQU1DLE9BQU8sR0FBRyxDQUFDLE1BQU0sRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxDQUFDO01BQzFFLENBQUFELGtCQUFBLEdBQUFILE9BQU8sQ0FBQzVFLFNBQVMsRUFBQ21CLEdBQUcsQ0FBQThELEtBQUEsQ0FBQUYsa0JBQUEsRUFBSUMsT0FBTyxDQUFDO0lBQ3JDO0VBQ0osQ0FBQzs7RUFFRDtFQUNBLElBQU12RSxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBSUMsRUFBRSxFQUFLO0lBQ3pCO0lBQ0EsSUFBTXdFLEVBQUUsR0FBRyxpQ0FBaUM7SUFDNUMsSUFBTUMsUUFBUSxHQUFHekUsRUFBRSxDQUFDdEIsYUFBYSxDQUFDOEYsRUFBRSxDQUFDO0lBQ3JDLElBQU1FLFlBQVksR0FBRzFFLEVBQUUsQ0FBQ3RCLGFBQWEsQ0FBQyx3Q0FBd0MsQ0FBQzs7SUFFL0U7SUFDQSxJQUFJaUcsV0FBVyxHQUFHRixRQUFRLENBQUMvRixhQUFhLENBQUMsZ0JBQWdCLENBQUM7SUFDMURpRyxXQUFXLENBQUNILEVBQUUsR0FBRyxFQUFFO0lBQ25CLElBQUlJLGVBQWUsR0FBR0QsV0FBVyxDQUFDRSxVQUFVLENBQUNDLFNBQVM7SUFDdERILFdBQVcsQ0FBQ0UsVUFBVSxDQUFDRSxXQUFXLENBQUNKLFdBQVcsQ0FBQztJQUUvQyxJQUFJSyxVQUFVLEdBQUcsSUFBSUMsUUFBUSxDQUFDVCxFQUFFLEVBQUU7TUFBRTtNQUNoQ1UsR0FBRyxFQUFFLHNEQUFzRDtNQUFFO01BQzdEQyxlQUFlLEVBQUUsRUFBRTtNQUNuQkMsV0FBVyxFQUFFLENBQUM7TUFBRTtNQUNoQlIsZUFBZSxFQUFFQSxlQUFlO01BQ2hDUyxpQkFBaUIsRUFBRWIsRUFBRSxHQUFHLGtCQUFrQjtNQUFFO01BQzVDYyxTQUFTLEVBQUVaLFlBQVksQ0FBQztJQUM1QixDQUFDLENBQUM7SUFHRk0sVUFBVSxDQUFDdEMsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFVNkMsSUFBSSxFQUFFO01BQ3ZDO01BQ0EsSUFBTUMsYUFBYSxHQUFHZixRQUFRLENBQUNuRyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQztNQUNqRWtILGFBQWEsQ0FBQ2pILE9BQU8sQ0FBQyxVQUFBa0gsWUFBWSxFQUFJO1FBQ2xDQSxZQUFZLENBQUNDLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLEVBQUU7TUFDbkMsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDOztJQUVGO0lBQ0FYLFVBQVUsQ0FBQ3RDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxVQUFVa0QsUUFBUSxFQUFFO01BQ3JELElBQU1DLFlBQVksR0FBR3BCLFFBQVEsQ0FBQ25HLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztNQUMvRHVILFlBQVksQ0FBQ3RILE9BQU8sQ0FBQyxVQUFBdUgsV0FBVyxFQUFJO1FBQ2hDQSxXQUFXLENBQUNKLEtBQUssQ0FBQ0ssS0FBSyxHQUFHSCxRQUFRLEdBQUcsR0FBRztNQUM1QyxDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7SUFFRlosVUFBVSxDQUFDdEMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFVNkMsSUFBSSxFQUFFO01BQ3JDO01BQ0EsSUFBTU0sWUFBWSxHQUFHcEIsUUFBUSxDQUFDbkcsZ0JBQWdCLENBQUMsZUFBZSxDQUFDO01BQy9EdUgsWUFBWSxDQUFDdEgsT0FBTyxDQUFDLFVBQUF1SCxXQUFXLEVBQUk7UUFDaENBLFdBQVcsQ0FBQ0osS0FBSyxDQUFDTSxPQUFPLEdBQUcsR0FBRztNQUNuQyxDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7O0lBRUY7SUFDQWhCLFVBQVUsQ0FBQ3RDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsVUFBVWtELFFBQVEsRUFBRTtNQUMxQyxJQUFNQyxZQUFZLEdBQUdwQixRQUFRLENBQUNuRyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUM7TUFFOURzQyxVQUFVLENBQUMsWUFBWTtRQUNuQmlGLFlBQVksQ0FBQ3RILE9BQU8sQ0FBQyxVQUFBdUgsV0FBVyxFQUFJO1VBQ2hDQSxXQUFXLENBQUNwSCxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUNnSCxLQUFLLENBQUNNLE9BQU8sR0FBRyxHQUFHO1VBQzlERixXQUFXLENBQUNwSCxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUNnSCxLQUFLLENBQUNNLE9BQU8sR0FBRyxHQUFHO1FBQzlELENBQUMsQ0FBQztNQUNOLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDWCxDQUFDLENBQUM7RUFDTixDQUFDOztFQUdEO0VBQ0EsT0FBTztJQUNIQyxJQUFJLEVBQUUsU0FBQUEsS0FBQSxFQUFZO01BQ2Q5SCxpQkFBaUIsQ0FBQyxDQUFDO01BQ25Cb0IsUUFBUSxDQUFDLENBQUM7SUFDZDtFQUNKLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBMkcsTUFBTSxDQUFDQyxrQkFBa0IsQ0FBQyxZQUFZO0VBQ2xDakksZUFBZSxDQUFDK0gsSUFBSSxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9jb3JlL2pzL2N1c3RvbS9hcHBzL2luYm94L3JlcGx5LmpzP2YxMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENsYXNzIGRlZmluaXRpb25cbnZhciBLVEFwcEluYm94UmVwbHkgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBQcml2YXRlIGZ1bmN0aW9uc1xuICAgIGNvbnN0IGhhbmRsZVByZXZpZXdUZXh0ID0gKCkgPT4ge1xuICAgICAgICAvLyBHZXQgYWxsIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGFjY29yZGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1rdC1pbmJveC1tZXNzYWdlPVwibWVzc2FnZV93cmFwcGVyXCJdJyk7XG4gICAgICAgIGFjY29yZGlvbnMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xuICAgICAgICAgICAgLy8gU2V0IHZhcmlhYmxlc1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LW1lc3NhZ2U9XCJoZWFkZXJcIl0nKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpZXdUZXh0ID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LW1lc3NhZ2U9XCJwcmV2aWV3XCJdJyk7XG4gICAgICAgICAgICBjb25zdCBkZXRhaWxzID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LW1lc3NhZ2U9XCJkZXRhaWxzXCJdJyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LW1lc3NhZ2U9XCJtZXNzYWdlXCJdJyk7XG5cbiAgICAgICAgICAgIC8vIEluaXQgYm9vdHN0cmFwIGNvbGxhcHNlIC0tIG1vcmUgaW5mbzogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2RvY3MvNS4xL2NvbXBvbmVudHMvY29sbGFwc2UvI3ZpYS1qYXZhc2NyaXB0XG4gICAgICAgICAgICBjb25zdCBjb2xsYXBzZSA9IG5ldyBib290c3RyYXAuQ29sbGFwc2UobWVzc2FnZSwgeyB0b2dnbGU6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgaGVhZGVyIGNsaWNrIGFjdGlvblxuICAgICAgICAgICAgaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGlmIEtUTWVudSBvciBidXR0b25zIGFyZSBjbGlja2VkXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWt0LW1lbnUtdHJpZ2dlcj1cImNsaWNrXCJdJykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLmJ0bicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3VGV4dC5jbGFzc0xpc3QudG9nZ2xlKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5jbGFzc0xpc3QudG9nZ2xlKCdkLW5vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2UudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEluaXQgcmVwbHkgZm9ybVxuICAgIGNvbnN0IGluaXRGb3JtID0gKCkgPT4ge1xuICAgICAgICAvLyBTZXQgdmFyaWFibGVzXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcja3RfaW5ib3hfcmVwbHlfZm9ybScpO1xuICAgICAgICBjb25zdCBhbGxUYWdpZnkgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWt0LWluYm94LWZvcm09XCJ0YWdpZnlcIl0nKTtcblxuICAgICAgICAvLyBIYW5kbGUgQ0MgYW5kIEJDQ1xuICAgICAgICBoYW5kbGVDQ2FuZEJDQyhmb3JtKTtcblxuICAgICAgICAvLyBIYW5kbGUgc3VibWl0IGZvcm1cbiAgICAgICAgaGFuZGxlU3VibWl0KGZvcm0pO1xuXG4gICAgICAgIC8vIEluaXQgdGFnaWZ5XG4gICAgICAgIGFsbFRhZ2lmeS5mb3JFYWNoKHRhZ2lmeSA9PiB7XG4gICAgICAgICAgICBpbml0VGFnaWZ5KHRhZ2lmeSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluaXQgcXVpbGwgZWRpdG9yXG4gICAgICAgIGluaXRRdWlsbChmb3JtKTtcblxuICAgICAgICAvLyBJbml0IGRyb3B6b25lXG4gICAgICAgIGluaXREcm9wem9uZShmb3JtKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQ0MgYW5kIEJDQyB0b2dnbGVcbiAgICBjb25zdCBoYW5kbGVDQ2FuZEJDQyA9IChlbCkgPT4ge1xuICAgICAgICAvLyBHZXQgZWxlbWVudHNcbiAgICAgICAgY29uc3QgY2NFbGVtZW50ID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImNjXCJdJyk7XG4gICAgICAgIGNvbnN0IGNjQnV0dG9uID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImNjX2J1dHRvblwiXScpO1xuICAgICAgICBjb25zdCBjY0Nsb3NlID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImNjX2Nsb3NlXCJdJyk7XG4gICAgICAgIGNvbnN0IGJjY0VsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1mb3JtPVwiYmNjXCJdJyk7XG4gICAgICAgIGNvbnN0IGJjY0J1dHRvbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LWluYm94LWZvcm09XCJiY2NfYnV0dG9uXCJdJyk7XG4gICAgICAgIGNvbnN0IGJjY0Nsb3NlID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImJjY19jbG9zZVwiXScpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBDQyBidXR0b24gY2xpY2tcbiAgICAgICAgY2NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY2NFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgY2NFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2QtZmxleCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIYW5kbGUgQ0MgY2xvc2UgYnV0dG9uIGNsaWNrXG4gICAgICAgIGNjQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY2NFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgY2NFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2QtZmxleCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIYW5kbGUgQkNDIGJ1dHRvbiBjbGlja1xuICAgICAgICBiY2NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgYmNjRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIGJjY0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1mbGV4Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmRsZSBDQyBjbG9zZSBidXR0b24gY2xpY2tcbiAgICAgICAgYmNjQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgYmNjRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICAgICAgICAgIGJjY0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1mbGV4Jyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBzdWJtaXQgZm9ybVxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlbCkgPT4ge1xuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1pbmJveC1mb3JtPVwic2VuZFwiXScpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBidXR0b24gY2xpY2sgZXZlbnRcbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBBY3RpdmF0ZSBpbmRpY2F0b3JcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWt0LWluZGljYXRvclwiLCBcIm9uXCIpO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGluZGljYXRvciBhZnRlciAzIHNlY29uZHNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWt0LWluZGljYXRvclwiKTtcbiAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJbml0IHRhZ2lmeSBcbiAgICBjb25zdCBpbml0VGFnaWZ5ID0gKGVsKSA9PiB7XG4gICAgICAgIHZhciBpbnB1dEVsbSA9IGVsO1xuXG4gICAgICAgIGNvbnN0IHVzZXJzTGlzdCA9IFtcbiAgICAgICAgICAgIHsgdmFsdWU6IDEsIG5hbWU6ICdFbW1hIFNtaXRoJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtNi5qcGcnLCBlbWFpbDogJ2Uuc21pdGhAa3BtZy5jb20uYXUnIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAyLCBuYW1lOiAnTWF4IFNtaXRoJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtMS5qcGcnLCBlbWFpbDogJ21heEBrdC5jb20nIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAzLCBuYW1lOiAnU2VhbiBCZWFuJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtNS5qcGcnLCBlbWFpbDogJ3NlYW5AZGVsbGl0by5jb20nIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiA0LCBuYW1lOiAnQnJpYW4gQ294JywgYXZhdGFyOiAnYXZhdGFycy8zMDAtMjUuanBnJywgZW1haWw6ICdicmlhbkBleGNoYW5nZS5jb20nIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiA1LCBuYW1lOiAnRnJhbmNpcyBNaXRjaGFtJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtOS5qcGcnLCBlbWFpbDogJ2YubWl0Y2hhbUBrcG1nLmNvbS5hdScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDYsIG5hbWU6ICdEYW4gV2lsc29uJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtMjMuanBnJywgZW1haWw6ICdkYW1AY29uc2lsdGluZy5jb20nIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiA3LCBuYW1lOiAnQW5hIENyb3duJywgYXZhdGFyOiAnYXZhdGFycy8zMDAtMTIuanBnJywgZW1haWw6ICdhbmEuY2ZAbGltdGVsLmNvbScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDgsIG5hbWU6ICdKb2huIE1pbGxlcicsIGF2YXRhcjogJ2F2YXRhcnMvMzAwLTEzLmpwZycsIGVtYWlsOiAnbWlsbGVyQG1hcHBsZS5jb20nIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmdW5jdGlvbiB0YWdUZW1wbGF0ZSh0YWdEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDx0YWcgdGl0bGU9XCIkeyh0YWdEYXRhLnRpdGxlIHx8IHRhZ0RhdGEuZW1haWwpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ZWRpdGFibGU9J2ZhbHNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BlbGxjaGVjaz0nZmFsc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiJHt0aGlzLnNldHRpbmdzLmNsYXNzTmFtZXMudGFnfSAke3RhZ0RhdGEuY2xhc3MgPyB0YWdEYXRhLmNsYXNzIDogXCJcIn1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmdldEF0dHJpYnV0ZXModGFnRGF0YSl9PlxuICAgICAgICAgICAgICAgICAgICA8eCB0aXRsZT0nJyBjbGFzcz0ndGFnaWZ5X190YWdfX3JlbW92ZUJ0bicgcm9sZT0nYnV0dG9uJyBhcmlhLWxhYmVsPSdyZW1vdmUgdGFnJz48L3g+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd0YWdpZnlfX3RhZ19fYXZhdGFyLXdyYXAgcHMtMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBvbmVycm9yPVwidGhpcy5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nXCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSB3LTI1cHggbWUtMlwiIHNyYz1cIiR7aG9zdFVybH1tZWRpYS8ke3RhZ0RhdGEuYXZhdGFyfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ndGFnaWZ5X190YWctdGV4dCc+JHt0YWdEYXRhLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RhZz5cbiAgICAgICAgICAgIGBcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN1Z2dlc3Rpb25JdGVtVGVtcGxhdGUodGFnRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgICA8ZGl2ICR7dGhpcy5nZXRBdHRyaWJ1dGVzKHRhZ0RhdGEpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzcz0ndGFnaWZ5X19kcm9wZG93bl9faXRlbSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyICR7dGFnRGF0YS5jbGFzcyA/IHRhZ0RhdGEuY2xhc3MgOiBcIlwifSdcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cIm9wdGlvblwiPlxuXG4gICAgICAgICAgICAgICAgICAgICR7dGFnRGF0YS5hdmF0YXIgPyBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGFnaWZ5X19kcm9wZG93bl9faXRlbV9fYXZhdGFyLXdyYXAgbWUtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgb25lcnJvcj1cInRoaXMuc3R5bGUudmlzaWJpbGl0eT0naGlkZGVuJ1wiICBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIHctNTBweCBtZS0yXCIgc3JjPVwiJHtob3N0VXJsfW1lZGlhLyR7dGFnRGF0YS5hdmF0YXJ9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCA6ICcnXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHt0YWdEYXRhLm5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3RhZ0RhdGEuZW1haWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluaXRpYWxpemUgVGFnaWZ5IG9uIHRoZSBhYm92ZSBpbnB1dCBub2RlIHJlZmVyZW5jZVxuICAgICAgICB2YXIgdGFnaWZ5ID0gbmV3IFRhZ2lmeShpbnB1dEVsbSwge1xuICAgICAgICAgICAgdGFnVGV4dFByb3A6ICduYW1lJywgLy8gdmVyeSBpbXBvcnRhbnQgc2luY2UgYSBjdXN0b20gdGVtcGxhdGUgaXMgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHkgYXMgdGV4dC4gYWxsb3dzIHR5cGluZyBhIFwidmFsdWVcIiBvciBhIFwibmFtZVwiIHRvIG1hdGNoIGlucHV0IHdpdGggd2hpdGVsaXN0XG4gICAgICAgICAgICBlbmZvcmNlV2hpdGVsaXN0OiB0cnVlLFxuICAgICAgICAgICAgc2tpcEludmFsaWQ6IHRydWUsIC8vIGRvIG5vdCByZW1wb3JhcmlseSBhZGQgaW52YWxpZCB0YWdzXG4gICAgICAgICAgICBkcm9wZG93bjoge1xuICAgICAgICAgICAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IDAsXG4gICAgICAgICAgICAgICAgY2xhc3NuYW1lOiAndXNlcnMtbGlzdCcsXG4gICAgICAgICAgICAgICAgc2VhcmNoS2V5czogWyduYW1lJywgJ2VtYWlsJ10gIC8vIHZlcnkgaW1wb3J0YW50IHRvIHNldCBieSB3aGljaCBrZXlzIHRvIHNlYXJjaCBmb3Igc3VnZ2VzdHRpb25zIHdoZW4gdHlwaW5nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVzOiB7XG4gICAgICAgICAgICAgICAgdGFnOiB0YWdUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBkcm9wZG93bkl0ZW06IHN1Z2dlc3Rpb25JdGVtVGVtcGxhdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aGl0ZWxpc3Q6IHVzZXJzTGlzdFxuICAgICAgICB9KVxuXG4gICAgICAgIHRhZ2lmeS5vbignZHJvcGRvd246c2hvdyBkcm9wZG93bjp1cGRhdGVkJywgb25Ecm9wZG93blNob3cpXG4gICAgICAgIHRhZ2lmeS5vbignZHJvcGRvd246c2VsZWN0Jywgb25TZWxlY3RTdWdnZXN0aW9uKVxuXG4gICAgICAgIHZhciBhZGRBbGxTdWdnZXN0aW9uc0VsbTtcblxuICAgICAgICBmdW5jdGlvbiBvbkRyb3Bkb3duU2hvdyhlKSB7XG4gICAgICAgICAgICB2YXIgZHJvcGRvd25Db250ZW50RWxtID0gZS5kZXRhaWwudGFnaWZ5LkRPTS5kcm9wZG93bi5jb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodGFnaWZ5LnN1Z2dlc3RlZExpc3RJdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgYWRkQWxsU3VnZ2VzdGlvbnNFbG0gPSBnZXRBZGRBbGxTdWdnZXN0aW9uc0VsbSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IFwiYWRkQWxsU3VnZ2VzdGlvbnNFbG1cIiBhcyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc3VnZ2VzdGlvbnMgbGlzdFxuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ29udGVudEVsbS5pbnNlcnRCZWZvcmUoYWRkQWxsU3VnZ2VzdGlvbnNFbG0sIGRyb3Bkb3duQ29udGVudEVsbS5maXJzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25TZWxlY3RTdWdnZXN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5lbG0gPT0gYWRkQWxsU3VnZ2VzdGlvbnNFbG0pXG4gICAgICAgICAgICAgICAgdGFnaWZ5LmRyb3Bkb3duLnNlbGVjdEFsbC5jYWxsKHRhZ2lmeSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgYSBcImFkZCBhbGxcIiBjdXN0b20gc3VnZ2VzdGlvbiBlbGVtZW50IGV2ZXJ5IHRpbWUgdGhlIGRyb3Bkb3duIGNoYW5nZXNcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWRkQWxsU3VnZ2VzdGlvbnNFbG0oKSB7XG4gICAgICAgICAgICAvLyBzdWdnZXN0aW9ucyBpdGVtcyBzaG91bGQgYmUgYmFzZWQgb24gXCJkcm9wZG93bkl0ZW1cIiB0ZW1wbGF0ZVxuICAgICAgICAgICAgcmV0dXJuIHRhZ2lmeS5wYXJzZVRlbXBsYXRlKCdkcm9wZG93bkl0ZW0nLCBbe1xuICAgICAgICAgICAgICAgIGNsYXNzOiBcImFkZEFsbFwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiQWRkIGFsbFwiLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0YWdpZnkuc2V0dGluZ3Mud2hpdGVsaXN0LnJlZHVjZShmdW5jdGlvbiAocmVtYWluaW5nU3VnZ2VzdGlvbnMsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZ2lmeS5pc1RhZ0R1cGxpY2F0ZShpdGVtLnZhbHVlKSA/IHJlbWFpbmluZ1N1Z2dlc3Rpb25zIDogcmVtYWluaW5nU3VnZ2VzdGlvbnMgKyAxXG4gICAgICAgICAgICAgICAgfSwgMCkgKyBcIiBNZW1iZXJzXCJcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbml0IHF1aWxsIGVkaXRvciBcbiAgICBjb25zdCBpbml0UXVpbGwgPSAoZWwpID0+IHtcbiAgICAgICAgdmFyIHF1aWxsID0gbmV3IFF1aWxsKCcja3RfaW5ib3hfZm9ybV9lZGl0b3InLCB7XG4gICAgICAgICAgICBtb2R1bGVzOiB7XG4gICAgICAgICAgICAgICAgdG9vbGJhcjogW1xuICAgICAgICAgICAgICAgICAgICBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBbMSwgMiwgZmFsc2VdXG4gICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgICAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2ltYWdlJywgJ2NvZGUtYmxvY2snXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1R5cGUgeW91ciB0ZXh0IGhlcmUuLi4nLFxuICAgICAgICAgICAgdGhlbWU6ICdzbm93JyAvLyBvciAnYnViYmxlJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDdXN0b21pemUgZWRpdG9yXG4gICAgICAgIGNvbnN0IHRvb2xiYXIgPSBlbC5xdWVyeVNlbGVjdG9yKCcucWwtdG9vbGJhcicpO1xuXG4gICAgICAgIGlmICh0b29sYmFyKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gWydweC01JywgJ2JvcmRlci10b3AtMCcsICdib3JkZXItc3RhcnQtMCcsICdib3JkZXItZW5kLTAnXTtcbiAgICAgICAgICAgIHRvb2xiYXIuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluaXQgZHJvcHpvbmVcbiAgICBjb25zdCBpbml0RHJvcHpvbmUgPSAoZWwpID0+IHtcbiAgICAgICAgLy8gc2V0IHRoZSBkcm9wem9uZSBjb250YWluZXIgaWRcbiAgICAgICAgY29uc3QgaWQgPSAnW2RhdGEta3QtaW5ib3gtZm9ybT1cImRyb3B6b25lXCJdJztcbiAgICAgICAgY29uc3QgZHJvcHpvbmUgPSBlbC5xdWVyeVNlbGVjdG9yKGlkKTtcbiAgICAgICAgY29uc3QgdXBsb2FkQnV0dG9uID0gZWwucXVlcnlTZWxlY3RvcignW2RhdGEta3QtaW5ib3gtZm9ybT1cImRyb3B6b25lX3VwbG9hZFwiXScpO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcHJldmlldyBlbGVtZW50IHRlbXBsYXRlXG4gICAgICAgIHZhciBwcmV2aWV3Tm9kZSA9IGRyb3B6b25lLnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcHpvbmUtaXRlbVwiKTtcbiAgICAgICAgcHJldmlld05vZGUuaWQgPSBcIlwiO1xuICAgICAgICB2YXIgcHJldmlld1RlbXBsYXRlID0gcHJldmlld05vZGUucGFyZW50Tm9kZS5pbm5lckhUTUw7XG4gICAgICAgIHByZXZpZXdOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHJldmlld05vZGUpO1xuXG4gICAgICAgIHZhciBteURyb3B6b25lID0gbmV3IERyb3B6b25lKGlkLCB7IC8vIE1ha2UgdGhlIHdob2xlIGJvZHkgYSBkcm9wem9uZVxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vcHJldmlldy5rZWVudGhlbWVzLmNvbS9hcGkvZHJvcHpvbmUvdm9pZC5waHBcIiwgLy8gU2V0IHRoZSB1cmwgZm9yIHlvdXIgdXBsb2FkIHNjcmlwdCBsb2NhdGlvblxuICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiAyMCxcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiAxLCAvLyBNYXggZmlsZXNpemUgaW4gTUJcbiAgICAgICAgICAgIHByZXZpZXdUZW1wbGF0ZTogcHJldmlld1RlbXBsYXRlLFxuICAgICAgICAgICAgcHJldmlld3NDb250YWluZXI6IGlkICsgXCIgLmRyb3B6b25lLWl0ZW1zXCIsIC8vIERlZmluZSB0aGUgY29udGFpbmVyIHRvIGRpc3BsYXkgdGhlIHByZXZpZXdzXG4gICAgICAgICAgICBjbGlja2FibGU6IHVwbG9hZEJ1dHRvbiAvLyBEZWZpbmUgdGhlIGVsZW1lbnQgdGhhdCBzaG91bGQgYmUgdXNlZCBhcyBjbGljayB0cmlnZ2VyIHRvIHNlbGVjdCBmaWxlcy5cbiAgICAgICAgfSk7XG5cblxuICAgICAgICBteURyb3B6b25lLm9uKFwiYWRkZWRmaWxlXCIsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAvLyBIb29rdXAgdGhlIHN0YXJ0IGJ1dHRvblxuICAgICAgICAgICAgY29uc3QgZHJvcHpvbmVJdGVtcyA9IGRyb3B6b25lLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wem9uZS1pdGVtJyk7XG4gICAgICAgICAgICBkcm9wem9uZUl0ZW1zLmZvckVhY2goZHJvcHpvbmVJdGVtID0+IHtcbiAgICAgICAgICAgICAgICBkcm9wem9uZUl0ZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdG90YWwgcHJvZ3Jlc3MgYmFyXG4gICAgICAgIG15RHJvcHpvbmUub24oXCJ0b3RhbHVwbG9hZHByb2dyZXNzXCIsIGZ1bmN0aW9uIChwcm9ncmVzcykge1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJzID0gZHJvcHpvbmUucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzLWJhcicpO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXJzLmZvckVhY2gocHJvZ3Jlc3NCYXIgPT4ge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gcHJvZ3Jlc3MgKyBcIiVcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBteURyb3B6b25lLm9uKFwic2VuZGluZ1wiLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG90YWwgcHJvZ3Jlc3MgYmFyIHdoZW4gdXBsb2FkIHN0YXJ0c1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJzID0gZHJvcHpvbmUucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzLWJhcicpO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXJzLmZvckVhY2gocHJvZ3Jlc3NCYXIgPT4ge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIaWRlIHRoZSB0b3RhbCBwcm9ncmVzcyBiYXIgd2hlbiBub3RoaW5nXCJzIHVwbG9hZGluZyBhbnltb3JlXG4gICAgICAgIG15RHJvcHpvbmUub24oXCJjb21wbGV0ZVwiLCBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFycyA9IGRyb3B6b25lLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kei1jb21wbGV0ZScpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0JhcnMuZm9yRWFjaChwcm9ncmVzc0JhciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1iYXInKS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy8gUHVibGljIG1ldGhvZHNcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBoYW5kbGVQcmV2aWV3VGV4dCgpO1xuICAgICAgICAgICAgaW5pdEZvcm0oKTtcbiAgICAgICAgfVxuICAgIH07XG59KCk7XG5cbi8vIE9uIGRvY3VtZW50IHJlYWR5XG5LVFV0aWwub25ET01Db250ZW50TG9hZGVkKGZ1bmN0aW9uICgpIHtcbiAgICBLVEFwcEluYm94UmVwbHkuaW5pdCgpO1xufSk7XG4iXSwibmFtZXMiOlsiS1RBcHBJbmJveFJlcGx5IiwiaGFuZGxlUHJldmlld1RleHQiLCJhY2NvcmRpb25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFjY29yZGlvbiIsImhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJwcmV2aWV3VGV4dCIsImRldGFpbHMiLCJtZXNzYWdlIiwiY29sbGFwc2UiLCJib290c3RyYXAiLCJDb2xsYXBzZSIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY2xvc2VzdCIsImNsYXNzTGlzdCIsImluaXRGb3JtIiwiZm9ybSIsImFsbFRhZ2lmeSIsImhhbmRsZUNDYW5kQkNDIiwiaGFuZGxlU3VibWl0IiwidGFnaWZ5IiwiaW5pdFRhZ2lmeSIsImluaXRRdWlsbCIsImluaXREcm9wem9uZSIsImVsIiwiY2NFbGVtZW50IiwiY2NCdXR0b24iLCJjY0Nsb3NlIiwiYmNjRWxlbWVudCIsImJjY0J1dHRvbiIsImJjY0Nsb3NlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJhZGQiLCJzdWJtaXRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQXR0cmlidXRlIiwiaW5wdXRFbG0iLCJ1c2Vyc0xpc3QiLCJ2YWx1ZSIsIm5hbWUiLCJhdmF0YXIiLCJlbWFpbCIsInRhZ1RlbXBsYXRlIiwidGFnRGF0YSIsImNvbmNhdCIsInRpdGxlIiwic2V0dGluZ3MiLCJjbGFzc05hbWVzIiwidGFnIiwiZ2V0QXR0cmlidXRlcyIsImhvc3RVcmwiLCJzdWdnZXN0aW9uSXRlbVRlbXBsYXRlIiwiVGFnaWZ5IiwidGFnVGV4dFByb3AiLCJlbmZvcmNlV2hpdGVsaXN0Iiwic2tpcEludmFsaWQiLCJkcm9wZG93biIsImNsb3NlT25TZWxlY3QiLCJlbmFibGVkIiwiY2xhc3NuYW1lIiwic2VhcmNoS2V5cyIsInRlbXBsYXRlcyIsImRyb3Bkb3duSXRlbSIsIndoaXRlbGlzdCIsIm9uIiwib25Ecm9wZG93blNob3ciLCJvblNlbGVjdFN1Z2dlc3Rpb24iLCJhZGRBbGxTdWdnZXN0aW9uc0VsbSIsImRyb3Bkb3duQ29udGVudEVsbSIsImRldGFpbCIsIkRPTSIsImNvbnRlbnQiLCJzdWdnZXN0ZWRMaXN0SXRlbXMiLCJsZW5ndGgiLCJnZXRBZGRBbGxTdWdnZXN0aW9uc0VsbSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJlbG0iLCJzZWxlY3RBbGwiLCJjYWxsIiwicGFyc2VUZW1wbGF0ZSIsInJlZHVjZSIsInJlbWFpbmluZ1N1Z2dlc3Rpb25zIiwiaXRlbSIsImlzVGFnRHVwbGljYXRlIiwicXVpbGwiLCJRdWlsbCIsIm1vZHVsZXMiLCJ0b29sYmFyIiwicGxhY2Vob2xkZXIiLCJ0aGVtZSIsIl90b29sYmFyJGNsYXNzTGlzdCIsImNsYXNzZXMiLCJhcHBseSIsImlkIiwiZHJvcHpvbmUiLCJ1cGxvYWRCdXR0b24iLCJwcmV2aWV3Tm9kZSIsInByZXZpZXdUZW1wbGF0ZSIsInBhcmVudE5vZGUiLCJpbm5lckhUTUwiLCJyZW1vdmVDaGlsZCIsIm15RHJvcHpvbmUiLCJEcm9wem9uZSIsInVybCIsInBhcmFsbGVsVXBsb2FkcyIsIm1heEZpbGVzaXplIiwicHJldmlld3NDb250YWluZXIiLCJjbGlja2FibGUiLCJmaWxlIiwiZHJvcHpvbmVJdGVtcyIsImRyb3B6b25lSXRlbSIsInN0eWxlIiwiZGlzcGxheSIsInByb2dyZXNzIiwicHJvZ3Jlc3NCYXJzIiwicHJvZ3Jlc3NCYXIiLCJ3aWR0aCIsIm9wYWNpdHkiLCJpbml0IiwiS1RVdGlsIiwib25ET01Db250ZW50TG9hZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/assets/core/js/custom/apps/inbox/reply.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/assets/core/js/custom/apps/inbox/reply.js"]();
/******/ 	
/******/ })()
;